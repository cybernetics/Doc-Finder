$(function(){current=1;fancyWidth=parseInt(($(window).width())*0.95);fancyHeight=parseInt(($(window).height())*0.95);$(".resultLink").fancybox({width:fancyWidth,height:fancyHeight,type:"iframe"});
getQ=a("q");getLang=a("lang");if(typeof(getLang)!="undefined"&&getLang!==null&&getLang!==""){if($('#lang option[name="'+getLang+'"]').html()!=null){$('#lang option[name="'+getLang+'"]').attr("selected",true);
}}if(typeof(getQ)!="undefined"&&getQ!==null&&getQ!==""){$("#query").val(getQ);b();}$("form").submit(function(c){c.preventDefault();b();});$("#lang").change(function(c){c.preventDefault();
b();});$("#page").live("change",function(c){current=$("#page option:selected").val();b();$("#page option[name="+current+"]").attr("selected",true);});$("#page select").mouseup(function(c){c.preventDefault();
$("#page option[name="+current+"]").attr("selected",true);});function b(){query=$("#query").val();lang=$("#lang").find("option:selected").text();if(lang=="All"){lang="";
}$.ajax({dataType:"jsonp",jsonp:"callback",url:"http://searchco.de/api/jsonp_search_II/"+lang+" "+query+"/"+((current-1)*10)+"/?callback=?",success:function(d){if(d.total>10){pages=parseInt(d.total/10);
if((d.total%10)>0){pages++;}}else{pages=1;}$("#results").hide();$("#info h3").html('Search for: "'+d.query+'"');$("#info h4").html('Found: "'+d.total+'"');
$("#results .result").remove();for(var c=0;c<d.results.length;c++){$("#results").append(' 							<div class="result">								<h3><a class="resultLink" href="'+d.results[c].url+'">'+(((current-1)*10)+(c+1))+" "+d.results[c].name+'</a></h3>								<p class="description">'+d.results[c].description+'</p>								<p class="synopsis">'+d.results[c].synopsis+'</p>								<div class="namespace">'+d.results[c].namespace+"</div>							</div>						");
}$("#results").fadeIn("1500");$("#page").html("").removeAttr("disabled");for(var c=0;c<pages;c++){$("#page").append("<option name="+(c+1)+" value="+(c+1)+">"+(c+1)+"</option>");
}$("#page option[name="+current+"]").attr("selected",true);},});}function a(d){var c=new RegExp(d+"=([^&]*)","i").exec(window.location.search);return c&&c[1]||"";
}});